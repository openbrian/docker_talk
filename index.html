<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Introduction to Docker</title>

		<meta name="description" content="An open platform for distributed applications for developers and sysadmins">
		<meta name="author" content="Brian DeRocher">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

		<style>
.callout
	{
	color: #faaf42;
	font-weight: bold !important;
	}
		</style>
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Introduction to Docker</h1>
					<h3>An open platform for distributed applications for developers and sysadmins</h3>
					<p>
						<small>by <a href="http://brian.derocher.org">Brian DeRocher</a> / <a href="http://twitter.com/openbrian">@openbrian</a></small>
					</p>
					<p>
						2015 October 27
					</p>
				</section>

				<section>
					<h2>Dock What?!</h2>
					<p>
Docker is a <span class='callout'>container</span> which developers build around their applications in order to <span class='callout'>ship</span> them into operating environments such as the cloud.
					</p>
					<img src='img/docker_logo.png' />
					<a href="https://www.docker.com/">https://www.docker.com/</a>
				</section>

				<section>
					<h1>Executive Summary</h1>
					<img src='img/push_to_prod.png' style='width: 30%; float: left'/>
					<ul style='width: 60%;'>
						<li>Reduce uncertainty when building and deploying software</li>
						<li>Standardize your deployments</li>
						<li>Deploy more often without anxiety</li>
						<li>Reap value of new features earlier</li>
						<li>Integrate with the cloud
							<ul>
								<li>AWS Elastic Beanstalk</li>
								<li>Google Container Engine</li>
								<li>Joyent, IBM Softlayer, Microsoft Azure, Rackspace</li>
						</li>
					</ul>
				</section>

				<section>
					<h2>Have you ever had these issues?</h2>
					<ul>
						<li class="fragment">App works in Dev but not in Prod.  Why?</li>
						<li class="fragment">As a developer, your new project depends on Python 2.3, but previous project depends on Python 2.2</li>
						<li class="fragment">Developer says "Please deploy on Apache 2.2".  Sysadmin deploys to "more secure" Apache 2.4</li>
						<li class="fragment">Developer says "Deploy on Ubuntu, Nginx, Memcache, Oracle, libgd, libcrypt...., and put this file here".  Sysadmin says "no".</li>
						<li class="fragment">Push to build server (CI), QA server, local network (dogfood), public cloud, mobile, on premise</li>
					</ul>
				</section>

				<section>
					<h2>Solution: Docker</h2>
					<ul>
						<li class="fragment">Isolated environment from other projects</li>
						<li class="fragment">Consistent environment across developers</li>
						<li class="fragment">Consistent environment from dev to ops</li>
						<li class="fragment">Image contains all dependencies</li>
					</ul>
				</section>

				<section>
					<h1>Context</h1>
					<img src='img/docker_vs_vmware.png' style='width: 50%; float: right'/>
					<ul style='width: 45%;'>
						<li>build environment, like Python's virtualenv</li>
						<li>1982 - chroot , bsd jails - filesystem protection only</li>
						<li>LXC adds userspace isolotion</li>
						<li class="fragment callout">Docker - cgroups</li>
						<li>virtual machine</li>
						<li>Vagrant</li>
					</ul>
				</section>

				<section>
					<section>
						<h1>Docker: In a Nutshell</h1>
						<table>
							<tr>
								<td>Daemon</td>
								<td>Images</td>
								<td>Containers</td>
								<td>Hub</td>
							</tr>
						</table>
						<p>See also: Kitematic</p>
					</section>
					<section>
						<h2>Daemon</h2>
<pre><code data-trim contenteditable>
$ apt-get install docker
</code></pre>
					</section>
					<section>
						<h2>Images</h2>
<p>Pull pre-existing imags from the Hub</p>
<pre><code data-trim contenteditable>
$ docker pull django
</code></pre>
<a href="https://hub.docker.com/search/?q=django&amp;page=1&amp;isAutomated=0&amp;isOfficial=0&amp;starCount=0&amp;pullCount=0">django</a>

<p>Build images from a Dockerfile</p>
<pre><code data-trim contenteditable>
$ docker build -t noblis/grailsapp .
</code></pre>

<p>List your docker images</p>
<pre><code data-trim contenteditable>
$ docker images
</code></pre>
					</section>
					<section>
						<h2>Containers</h2>
<p>Start an independent container from an image</p>
<pre><code data-trim contenteditable>
$ docker run -it -p 3000:80 -V /home/amr/app:/opt noblis/grailsapp
</code></pre>
<p>List the running and non-running containers</p>
<pre><code data-trim contenteditable>
$ docker ps -a
</code></pre>
<p>Save container changes as a new image</p>
<pre><code data-trim contenteditable>
$ docker commit CONTAINER_ID noblis/grailsapp:version3
</code></pre>
					</section>
					<section>
						<h2>Hub</h2>
<p>Publish new images on the Docker Hub</p>
<pre><code data-trim contenteditable>
$ apt-get push
</code></pre>
					</section>
				</section>

				<section>
					<img src="img/docker_commands.png" />
				</section>

				<section>
					<h1>Docker Link</h1>
					<p>Each docker container may EXPOSE ports.  "Linking" will bridge the port from one container to a port on another.  For example EXPOSE 5432 PostgreSQL database with tag db.  On web container use</p>
<pre><code>
docker run --name web --link db:thedb noblis/webapp python app.py
</code></pre>
					<p>Then web container has environment variables defiend THEDB_NAME, THEDB_HOST, THEDB_PORT.  And in the web app configuration connect to tcp://$THEDB_HOST:$THEDB_PORT/$THEDB_NAME.</p>
				</section>

				<section>
					<h1>Demo</h1>
				</section>

				<section>
					<h1>Questions?</h1>
				</section>

				<section>
					<img src='img/dumont.jpg' style='width: 50%; float: right' />
					<h3>Brian DeRocher</h3>
					<p>@openbrian</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
